# =============================================================================
# tmux Menus — requires tmux 3.2+ (display-menu)
# Sourced conditionally from .tmux.conf via if-shell version check.
# =============================================================================

# --- Main Menu (prefix + ?) ---
bind-key -T prefix ? display-menu -T "#[align=centre]tmux Help Menu" -x C -y C \
    "" \
    "-#[align=centre,bold]━━━ Windows ━━━" "" "" \
    "New Window            (c)" "new-window" \
    "Next Window           (n)" "next-window" \
    "Previous Window       (p)" "previous-window" \
    "List Windows          (w)" "choose-tree -Zw" \
    "Rename Window         (,)" "command-prompt -I '#W' 'rename-window \"%%\"'" \
    "Kill Window           (&)" "confirm-before -p 'Kill window? (y/n)' kill-window" \
    "" \
    "-#[align=centre,bold]━━━ Panes ━━━" "" "" \
    "Split Horizontal      (\")" "split-window -v -c '#{pane_current_path}'" \
    "Split Vertical        (%)" "split-window -h -c '#{pane_current_path}'" \
    "Navigate Panes      (arrows)" "display-message 'Use arrow keys after prefix'" \
    "Zoom Pane             (z)" "resize-pane -Z" \
    "Kill Pane             (x)" "confirm-before -p 'Kill pane? (y/n)' kill-pane" \
    "Swap with Previous    ({)" "swap-pane -U" \
    "Swap with Next        (})" "swap-pane -D" \
    "" \
    "-#[align=centre,bold]━━━ Sessions ━━━" "" "" \
    "New Session" "command-prompt -p 'Session name:' 'new-session -s \"%%\"'" \
    "List Sessions         (s)" "choose-tree -Zs" \
    "Rename Session        ($)" "command-prompt -I '#S' 'rename-session \"%%\"'" \
    "Detach                (d)" "detach-client" \
    "" \
    "-#[align=centre,bold]━━━ Other ━━━" "" "" \
    "Copy Mode             ([)" "copy-mode" \
    "Show Clock            (t)" "clock-mode" \
    "Reload Config         (r)" "source-file ~/.tmux.conf; display-message 'Config reloaded!'" \
    "Command Prompt        (:)" "command-prompt"

# --- Quick Actions Menu (prefix + space) ---
bind-key Space display-menu -T "#[align=centre]Quick Actions" -x C -y C \
    "Split Below" "split-window -v -c '#{pane_current_path}'" \
    "Split Right" "split-window -h -c '#{pane_current_path}'" \
    "" \
    "New Window" "new-window -c '#{pane_current_path}'" \
    "Kill Pane" "confirm-before -p 'Kill pane? (y/n)' kill-pane" \
    "" \
    "Zoom Toggle" "resize-pane -Z" \
    "Sync Panes Toggle" "setw synchronize-panes"
